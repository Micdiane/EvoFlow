### **é¡¹ç›®åç§°ï¼šEvoFlow**

**å‰¯æ ‡é¢˜ï¼š** ä¸€ä¸ªè‡ªé€‚åº”AI Agentå·¥ä½œæµç”Ÿæˆä¸ä¼˜åŒ–å¹³å°

### **é¡¹ç›®æ„¿æ™¯ (Vision)**

åˆ›å»ºä¸€ä¸ªæ™ºèƒ½å¹³å°ï¼Œç”¨æˆ·åªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°ä¸€ä¸ªå¤æ‚çš„ç›®æ ‡ï¼ˆä¾‹å¦‚ï¼Œâ€œåˆ†æä¸Šä¸ªå­£åº¦çš„é”€å”®æ•°æ®ï¼Œå¹¶ç”Ÿæˆä¸€ä»½é¢å‘é«˜ç®¡çš„PPTæŠ¥å‘Šâ€ï¼‰ï¼ŒEvoFlow å°±èƒ½è‡ªåŠ¨è®¾è®¡ã€ç¼–æ’å’Œæ‰§è¡Œä¸€ä¸ªç”±å¤šä¸ªä¸“ä¸šAI Agentç»„æˆçš„å·¥ä½œæµæ¥å®Œæˆä»»åŠ¡ã€‚æ›´æ ¸å¿ƒçš„æ˜¯ï¼Œå®ƒèƒ½æ ¹æ®ä»»åŠ¡æ‰§è¡Œç»“æœã€æˆæœ¬ã€æ•ˆç‡å’Œç”¨æˆ·åé¦ˆï¼Œä¸æ–­åœ°è‡ªæˆ‘è¿­ä»£å’Œä¼˜åŒ–è¿™ä¸ªå·¥ä½œæµï¼Œä½¿å…¶åœ¨æœªæ¥å¤„ç†ç›¸ä¼¼ä»»åŠ¡æ—¶å˜å¾—æ›´é«˜æ•ˆã€æ›´æ™ºèƒ½ã€æ›´ç»æµã€‚

### **æ ¸å¿ƒç†å¿µ (Core Idea)**

ä¼ ç»Ÿçš„å·¥ä½œæµè‡ªåŠ¨åŒ–å·¥å…·ï¼ˆå¦‚ Zapier, Makeï¼‰æˆ–åˆçº§çš„ Agent æ¡†æ¶ï¼ˆå¦‚æ—©æœŸçš„ LangChainï¼‰ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨å®šä¹‰æ¯ä¸€æ­¥çš„æµç¨‹å’Œé€»è¾‘ã€‚EvoFlow çš„æ ¸å¿ƒçªç ´åœ¨äº **â€œè‡ªåŠ¨åŒ–ç”Ÿæˆâ€** å’Œ **â€œè¿­ä»£ä¼˜åŒ–â€** è¿™ä¸¤ä¸ªç¯èŠ‚ï¼Œå®ƒå°†å·¥ä½œæµæœ¬èº«è§†ä¸ºä¸€ä¸ªéœ€è¦è¢«â€œè¿›åŒ–â€å’Œâ€œå­¦ä¹ â€çš„å¯¹è±¡ã€‚

### **ç›®æ ‡ç”¨æˆ· (Target Users)**

1.  **ä¸šåŠ¡åˆ†æå¸ˆ/è¿è¥äººå‘˜ï¼š** è‡ªåŠ¨åŒ–å¤„ç†æ•°æ®åˆ†æã€æŠ¥å‘Šç”Ÿæˆã€å¸‚åœºç›‘æ§ç­‰æ—¥å¸¸ä½†å¤æ‚çš„ä»»åŠ¡ã€‚
2.  **å†…å®¹åˆ›ä½œè€…/å¸‚åœºè¥é”€å›¢é˜Ÿï¼š** è‡ªåŠ¨ç”Ÿæˆä»é€‰é¢˜ã€è°ƒç ”ã€æ–‡æ¡ˆæ’°å†™åˆ°å¤šå¹³å°å‘å¸ƒçš„å…¨å¥—å†…å®¹æµç¨‹ã€‚
3.  **è½¯ä»¶å¼€å‘è€…/DevOpså·¥ç¨‹å¸ˆï¼š** è‡ªåŠ¨åŒ–å¤„ç†ä»£ç å®¡æŸ¥ã€Bugå¤ç°ã€æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆã€å‘å¸ƒæ—¥å¿—æ•´ç†ç­‰æµç¨‹ã€‚
4.  **ç ”ç©¶äººå‘˜ï¼š** è‡ªåŠ¨åŒ–è¿›è¡Œæ–‡çŒ®æ£€ç´¢ã€æ•°æ®æ¸…æ´—ã€å®éªŒæ¨¡æ‹Ÿã€è®ºæ–‡è‰ç¨¿æ’°å†™ç­‰ç§‘ç ”å·¥ä½œã€‚

### **æ ¸å¿ƒåŠŸèƒ½æ¨¡å—**

#### 1. **æ„å›¾ç†è§£ä¸ä»»åŠ¡åˆ†è§£æ¨¡å— (Intent & Decomposition Module)**

*   **è¾“å…¥ï¼š** ç”¨æˆ·é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°çš„é«˜å±‚çº§ç›®æ ‡ï¼ˆe.g., "å¸®æˆ‘ç­–åˆ’ä¸€æ¬¡çº¿ä¸Šæ–°äº§å“å‘å¸ƒä¼š"ï¼‰ã€‚
*   **æŠ€æœ¯ï¼š** ä½¿ç”¨å¼ºå¤§çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å¦‚ GPT-4o æˆ– Claude 3 Opusï¼Œç»“åˆ RAG (Retrieval-Augmented Generation) æŠ€æœ¯ï¼Œç†è§£ç”¨æˆ·æ„å›¾çš„æ·±å±‚å«ä¹‰ã€‚
*   **è¾“å‡ºï¼š** å°†é«˜å±‚çº§ç›®æ ‡åˆ†è§£æˆä¸€ä¸ªé€»è¾‘ä¸Šå¯è¡Œçš„ã€ç»“æ„åŒ–çš„ä»»åŠ¡åˆ—è¡¨ï¼ˆTask Graph çš„åˆæ­¥è“å›¾ï¼‰ï¼Œä¾‹å¦‚ï¼š
    1.  ç¡®å®šç›®æ ‡å—ä¼—ã€‚
    2.  ç ”ç©¶ç«å“å‘å¸ƒä¼šç­–ç•¥ã€‚
    3.  åˆ¶å®šå®£ä¼ æ—¶é—´çº¿ã€‚
    4.  æ’°å†™å®£ä¼ æ–‡æ¡ˆå’Œè®¾è®¡æµ·æŠ¥ã€‚
    5.  é€‰æ‹©ç›´æ’­å¹³å°ã€‚
    6.  å‡†å¤‡Q&Aç¯èŠ‚ã€‚

#### 2. **å·¥ä½œæµè‡ªåŠ¨ç”Ÿæˆæ¨¡å— (Workflow Generation Module)**

*   **è¾“å…¥ï¼š** ä»»åŠ¡åˆ†è§£åçš„ç»“æ„åŒ–åˆ—è¡¨ã€‚
*   **æ ¸å¿ƒï¼š** è¿™æ˜¯ **Planner Agent** çš„ä¸»åœºã€‚å®ƒåƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„é¡¹ç›®ç»ç†ã€‚
    *   **Agent/å·¥å…·åº“ (Agent & Tool Library):** ç³»ç»Ÿå†…ç½®ä¸€ä¸ªå¯æ‰©å±•çš„åº“ï¼ŒåŒ…å«å„ç§é¢„å®šä¹‰çš„â€œåŸå­Agentâ€ï¼ˆå¦‚ `WebSearchAgent`, `DataAnalysisAgent`, `CodeWriterAgent`, `EmailSenderAgent`ï¼‰å’Œâ€œå·¥å…·â€ï¼ˆå¦‚ API è°ƒç”¨ã€æ•°æ®åº“æŸ¥è¯¢ã€æ–‡ä»¶è¯»å†™ï¼‰ã€‚
    *   **æ™ºèƒ½è·¯ç”±ä¸ç¼–æ’ï¼š** Planner Agent ä¼šä¸ºåˆ†è§£åçš„æ¯ä¸ªä»»åŠ¡ï¼Œä»åº“ä¸­é€‰æ‹©æœ€åˆé€‚çš„ Agent æˆ– Agent ç»„åˆæ¥æ‰§è¡Œã€‚å®ƒå†³å®šäº†ä»»åŠ¡æ˜¯ä¸²è¡Œã€å¹¶è¡Œè¿˜æ˜¯æœ‰æ¡ä»¶åœ°æ‰§è¡Œï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªå¯è§†åŒ–çš„å·¥ä½œæµå›¾ï¼ˆDAG -æœ‰å‘æ— ç¯å›¾ï¼‰ã€‚
*   **è¾“å‡ºï¼š** ä¸€ä¸ªå¯æ‰§è¡Œçš„ã€åŒ…å«å…·ä½“ Agent å’Œå‚æ•°çš„å®Œæ•´å·¥ä½œæµæ–¹æ¡ˆã€‚

#### 3. **å·¥ä½œæµæ‰§è¡Œå¼•æ“ (Workflow Execution Engine)**

*   **è¾“å…¥ï¼š** ç”Ÿæˆçš„å·¥ä½œæµæ–¹æ¡ˆï¼ˆDAGï¼‰ã€‚
*   **åŠŸèƒ½ï¼š**
    *   **çŠ¶æ€ç®¡ç†ï¼š** è·Ÿè¸ªæ¯ä¸ª Agent çš„æ‰§è¡ŒçŠ¶æ€ï¼ˆç­‰å¾…ã€è¿è¡Œä¸­ã€æˆåŠŸã€å¤±è´¥ï¼‰ã€‚
    *   **ä¸Šä¸‹æ–‡ä¼ é€’ï¼š** ç®¡ç†å’Œä¼ é€’ Agent ä¹‹é—´çš„ä¿¡æ¯æµï¼ˆä¾‹å¦‚ï¼Œ`WebSearchAgent` çš„ç ”ç©¶ç»“æœéœ€è¦ä¼ é€’ç»™ `WritingAgent`ï¼‰ã€‚
    *   **å®¹é”™ä¸é‡è¯•ï¼š** å½“æŸä¸ª Agent æ‰§è¡Œå¤±è´¥æ—¶ï¼Œå¯ä»¥æ ¹æ®é¢„è®¾ç­–ç•¥è¿›è¡Œé‡è¯•æˆ–è§¦å‘å¤‡ç”¨æ–¹æ¡ˆã€‚
    *   **äººæœºåä½œï¼ˆHuman-in-the-Loopï¼‰ï¼š** åœ¨å…³é”®å†³ç­–ç‚¹ï¼ˆå¦‚é¢„ç®—å®¡æ‰¹ã€æ–‡æ¡ˆç»ˆå®¡ï¼‰æš‚åœå·¥ä½œæµï¼Œå¹¶è¯·æ±‚ç”¨æˆ·è¾“å…¥ã€‚

#### 4. **åé¦ˆä¸è¿­ä»£ä¼˜åŒ–æ¨¡å— (Feedback & Optimization Module)**

è¿™æ˜¯ EvoFlow çš„çµé­‚æ‰€åœ¨ï¼Œè®©ç³»ç»Ÿå…·å¤‡â€œæˆé•¿â€èƒ½åŠ›ã€‚

*   **è¾“å…¥ï¼š**
    *   **éšå¼åé¦ˆï¼š** ä»»åŠ¡æ‰§è¡Œçš„å…ƒæ•°æ®ï¼ˆæ¯ä¸ªèŠ‚ç‚¹çš„è€—æ—¶ã€Tokenæˆæœ¬ã€APIè°ƒç”¨æˆåŠŸç‡ã€æœ€ç»ˆä»»åŠ¡çš„æˆåŠŸ/å¤±è´¥çŠ¶æ€ï¼‰ã€‚
    *   **æ˜¾å¼åé¦ˆï¼š** ç”¨æˆ·çš„ç›´æ¥è¯„ä»·ï¼ˆä¾‹å¦‚ï¼Œå¯¹æœ€ç»ˆæŠ¥å‘Šæ‰“åˆ†ã€ç‚¹èµ/ç‚¹è¸©ã€æä¾›ä¿®æ”¹æ„è§ "è¿™ä»½æŠ¥å‘Šçš„å›¾è¡¨å¤ªå°‘äº†"ï¼‰ã€‚
*   **æ ¸å¿ƒï¼š** è¿™æ˜¯ **Optimizer Agent** æˆ– **Reflector Agent** çš„å·¥ä½œã€‚
    *   **æ€§èƒ½åˆ†æï¼š** åˆ†æå“ªäº›èŠ‚ç‚¹æ˜¯ç“¶é¢ˆï¼ˆè€—æ—¶æœ€é•¿ã€æˆæœ¬æœ€é«˜ï¼‰ï¼Œå“ªäº› Agent ç»„åˆæ•ˆç‡ä½ä¸‹ã€‚
    *   **åé¦ˆå­¦ä¹ ï¼š** åˆ©ç”¨ç±»ä¼¼ RLHF (Reinforcement Learning from Human Feedback) çš„æœºåˆ¶ï¼Œç†è§£ç”¨æˆ·çš„åå¥½ã€‚ä¾‹å¦‚ï¼Œç³»ç»Ÿä¼šå­¦ä¹ åˆ°â€œå¯¹äºè¿™ä½ç”¨æˆ·ï¼Œæ•°æ®æŠ¥å‘Šä¸­å¿…é¡»åŒ…å«è‡³å°‘3ä¸ªå¯è§†åŒ–å›¾è¡¨â€ã€‚
    *   **ç­–ç•¥æ¼”åŒ–ï¼š** åŸºäºåˆ†æç»“æœï¼Œä¼˜åŒ–å·¥ä½œæµç”Ÿæˆç­–ç•¥ã€‚è¿™å¯èƒ½åŒ…æ‹¬ï¼š
        *   **æ›¿æ¢Agentï¼š** "å‘ç° `SimpleSearchAgent` æ•ˆæœä¸ä½³ï¼Œä¸‹æ¬¡ç±»ä¼¼ä»»åŠ¡æ¢æˆ `DeepResearchAgent`ã€‚"
        *   **è°ƒæ•´æµç¨‹ï¼š** "å…ˆå†™æ–‡æ¡ˆå†é…å›¾çš„æµç¨‹å¤ªæ…¢ï¼Œä¸‹æ¬¡å¯ä»¥å°è¯•å¹¶è¡Œå¤„ç†ã€‚"
        *   **å‚æ•°å¾®è°ƒï¼š** "å¯¹äºåˆ›æ„å†™ä½œï¼Œå°† `WritingAgent` çš„ `temperature` å‚æ•°è°ƒé«˜ä¸€äº›ã€‚"
*   **è¾“å‡ºï¼š** æ›´æ–° Planner Agent çš„å†³ç­–æ¨¡å‹æˆ–å·¥ä½œæµæ¨¡æ¿åº“ã€‚å½“ä¸‹æ¬¡ç”¨æˆ·è¾“å…¥ç›¸ä¼¼çš„ç›®æ ‡æ—¶ï¼Œç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ªâ€œè¿›åŒ–â€åçš„ã€æ›´ä¼˜çš„å·¥ä½œæµã€‚

### **æŠ€æœ¯æ¶æ„ç®€å›¾**

```
+---------------------------------------------------------------------------------+
|                                  ç”¨æˆ·ç•Œé¢ (UI/CLI)                               |
+---------------------------------------------------------------------------------+
      | (1. è‡ªç„¶è¯­è¨€ç›®æ ‡)
      V
+---------------------------------------------------------------------------------+
|                      æ„å›¾ç†è§£ä¸ä»»åŠ¡åˆ†è§£æ¨¡å— (LLM + RAG)                          |
+---------------------------------------------------------------------------------+
      | (2. ç»“æ„åŒ–ä»»åŠ¡åˆ—è¡¨)
      V
+---------------------------------------------------------------------------------+
|                      å·¥ä½œæµè‡ªåŠ¨ç”Ÿæˆæ¨¡å— (Planner Agent)                          |
|      [è¯»å–] -> [Agent/å·¥å…·åº“]                                                    |
|      [å—å½±å“äº] <-+ (6. ä¼˜åŒ–ç­–ç•¥)                                                |
+-----------------|---------------------------------------------------------------+
                  | (3. å¯æ‰§è¡Œå·¥ä½œæµDAG)
                  V
+---------------------------------------------------------------------------------+
|                          å·¥ä½œæµæ‰§è¡Œå¼•æ“ (Orchestrator)                           |
|      [è°ƒåº¦] -> [Agent A] -> [Agent B] -> ...                                     |
|      [è¾“å‡º] -> (æœ€ç»ˆç»“æœ) -> ç”¨æˆ·                                                |
+---------------------------------------------------------------------------------+
      | (4. æ‰§è¡Œå…ƒæ•°æ®)                                     ^ (5. ç”¨æˆ·æ˜¾å¼åé¦ˆ)
      V                                                   |
+---------------------------------------------------------------------------------+
|                      åé¦ˆä¸è¿­ä»£ä¼˜åŒ–æ¨¡å— (Optimizer Agent)                       |
|                             (åˆ†æ & å­¦ä¹ )                                        |
+---------------------------------------------------------------------------------+
```

### **é¡¹ç›®å®æ–½è·¯çº¿å›¾ (Roadmap)**

1.  **Phase 1 (MVP - åŸºç¡€æ‰§è¡Œ):**
    *   æ„å»ºä¸€ä¸ªåŒ…å«5-10ä¸ªæ ¸å¿ƒ Agent çš„å·¥å…·åº“ã€‚
    *   å®ç°ä¸€ä¸ªå¥å£®çš„å·¥ä½œæµæ‰§è¡Œå¼•æ“ã€‚
    *   ç”¨æˆ·éœ€è¦æ‰‹åŠ¨ï¼ˆé€šè¿‡ä»£ç æˆ–ç®€å•çš„UIï¼‰å®šä¹‰å·¥ä½œæµã€‚
    *   **ç›®æ ‡ï¼š** éªŒè¯ Agent ååŒå·¥ä½œçš„å¯è¡Œæ€§ã€‚

2.  **Phase 2 (è‡ªåŠ¨åŒ–ç”Ÿæˆ):**
    *   å¼•å…¥ Planner Agentï¼Œå®ç°ä»è‡ªç„¶è¯­è¨€åˆ°å·¥ä½œæµçš„è‡ªåŠ¨ç”Ÿæˆã€‚
    *   é‡ç‚¹æ”»å…³ä»»åŠ¡åˆ†è§£çš„å‡†ç¡®æ€§å’Œ Agent é€‰æ‹©çš„åˆç†æ€§ã€‚
    *   **ç›®æ ‡ï¼š** å®ç° "é›¶é…ç½®" çš„ä»»åŠ¡å®Œæˆèƒ½åŠ›ã€‚

3.  **Phase 3 (è‡ªæˆ‘ä¼˜åŒ–):**
    *   å¼€å‘åé¦ˆä¸ä¼˜åŒ–æ¨¡å—ã€‚
    *   é¦–å…ˆåŸºäºæ‰§è¡Œå…ƒæ•°æ®ï¼ˆæˆæœ¬ã€æ—¶é—´ï¼‰è¿›è¡Œåˆæ­¥çš„è‡ªåŠ¨ä¼˜åŒ–ã€‚
    *   å¼•å…¥ç®€å•çš„ç”¨æˆ·åé¦ˆæœºåˆ¶ï¼ˆå¦‚æ‰“åˆ†ï¼‰ã€‚
    *   **ç›®æ ‡ï¼š** è®©å·¥ä½œæµå…·å¤‡åˆæ­¥çš„â€œè‡ªæ„ˆâ€å’Œâ€œææ•ˆâ€èƒ½åŠ›ã€‚

4.  **Phase 4 (ç”Ÿæ€ä¸é«˜çº§åŠŸèƒ½):**
    *   å¼€æ”¾ Agent/å·¥å…·åº“ï¼Œå…è®¸ç¤¾åŒºå¼€å‘è€…è´¡çŒ®è‡ªå·±çš„ Agentã€‚
    *   å¼•å…¥æ›´å¤æ‚çš„ä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚é—ä¼ ç®—æ³•æ¥æ¢ç´¢å…¨æ–°çš„å·¥ä½œæµç»“æ„ï¼‰ã€‚
    *   å¼€å‘ä¸€ä¸ªå¼ºå¤§çš„å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨ï¼Œå…è®¸ç”¨æˆ·æŸ¥çœ‹ã€ä¿®æ”¹å’Œåˆ†äº« EvoFlow ç”Ÿæˆçš„å·¥ä½œæµã€‚
    *   **ç›®æ ‡ï¼š** æ‰“é€ ä¸€ä¸ªå¼€æ”¾ã€æ™ºèƒ½ã€ä¸æ–­è¿›åŒ–çš„å·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°ã€‚

### **æŒ‘æˆ˜ä¸é£é™©**

*   **å¯é æ€§ä¸ç¨³å®šæ€§ï¼š** åŠ¨æ€ç”Ÿæˆçš„å·¥ä½œæµå¯èƒ½å‡ºç°æ„æƒ³ä¸åˆ°çš„é”™è¯¯æˆ–æ­»å¾ªç¯ã€‚
*   **æˆæœ¬æ§åˆ¶ï¼š** å¤§é‡ LLM å’Œ API è°ƒç”¨å¯èƒ½å¯¼è‡´æˆæœ¬å¤±æ§ï¼Œéœ€è¦è®¾è®¡ç²¾å·§çš„é¢„ç®—å’Œç›‘æ§æœºåˆ¶ã€‚
*   **è¯„ä¼°çš„å¤æ‚æ€§ï¼š** å¦‚ä½•é‡åŒ–ä¸€ä¸ªâ€œå¥½â€çš„å·¥ä½œæµï¼Ÿå°¤å…¶æ˜¯åœ¨åˆ›æ„æ€§ä»»åŠ¡ä¸Šï¼Œè¯„ä»·æ ‡å‡†æ˜¯æ¨¡ç³Šçš„ã€‚
*   **å®‰å…¨æ€§ï¼š** Agent å¦‚æœèƒ½æ‰§è¡Œä»£ç æˆ–æ“ä½œæ–‡ä»¶ï¼Œå¿…é¡»åœ¨ä¸¥æ ¼çš„æ²™ç®±ç¯å¢ƒä¸­è¿è¡Œï¼Œé˜²æ­¢æ¶æ„è¡Œä¸ºã€‚

è¿™ä¸ª **EvoFlow** é¡¹ç›®æ„æƒ³ä¸ä»…ç´§è·Ÿå½“å‰ AI Agent çš„æŠ€æœ¯çƒ­ç‚¹ï¼Œè€Œä¸”é€šè¿‡å¼•å…¥â€œç”Ÿæˆâ€å’Œâ€œä¼˜åŒ–â€çš„é—­ç¯ï¼Œè§£å†³äº†ç°æœ‰å·¥å…·çš„æ ¸å¿ƒç—›ç‚¹ï¼Œå…·æœ‰å·¨å¤§çš„æŠ€æœ¯æ·±åº¦å’Œå•†ä¸šä»·å€¼ã€‚

## **æŠ€æœ¯æ ˆ**

### **åç«¯**
- **æ¡†æ¶**: FastAPI (Python)
- **æ•°æ®åº“**: PostgreSQL + Redis
- **LLM**: DeepSeek API
- **ä»»åŠ¡é˜Ÿåˆ—**: Celery
- **å·¥ä½œæµå¼•æ“**: è‡ªç ”DAGæ‰§è¡Œå¼•æ“

### **å‰ç«¯**
- **æ¡†æ¶**: Next.js 14 (React)
- **UI**: Tailwind CSS + shadcn/ui
- **å¯è§†åŒ–**: React Flow
- **çŠ¶æ€ç®¡ç†**: Zustand

### **å¼€å‘ç¯å¢ƒ**
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **åŒ…ç®¡ç†**: uv (Python)
- **æ•°æ®åº“**: PostgreSQL 15
- **ç¼“å­˜**: Redis 7

## **å¿«é€Ÿå¼€å§‹**

### **ç¯å¢ƒè¦æ±‚**
- Python 3.11+
- Docker & Docker Compose
- uv (PythonåŒ…ç®¡ç†å™¨)

### **å®‰è£…æ­¥éª¤**

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd EvoFlow
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“å’ŒAPIå¯†é’¥
```

3. **ä½¿ç”¨Dockerå¯åŠ¨ï¼ˆæ¨èï¼‰**
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
chmod +x scripts/start.sh
./scripts/start.sh

# æˆ–è€…ä½¿ç”¨docker-compose
docker-compose up -d
```

4. **å¼€å‘ç¯å¢ƒå¯åŠ¨**
```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
chmod +x scripts/dev.sh
./scripts/dev.sh
```

### **è®¿é—®åº”ç”¨**
- APIæ–‡æ¡£: http://localhost:8000/docs
- å¥åº·æ£€æŸ¥: http://localhost:8000/health
- APIæ¥å£: http://localhost:8000/api/v1

## **é¡¹ç›®ç»“æ„**

```
EvoFlow/
â”œâ”€â”€ evoflow/                    # ä¸»åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                 # FastAPIåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py               # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ database.py             # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ celery_app.py           # Celeryé…ç½®
â”‚   â”œâ”€â”€ models/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ workflow.py
â”‚   â”‚   â”œâ”€â”€ agent.py
â”‚   â”‚   â””â”€â”€ task.py
â”‚   â”œâ”€â”€ schemas/                # Pydanticæ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ workflow.py
â”‚   â”‚   â””â”€â”€ agent.py
â”‚   â”œâ”€â”€ api/                    # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚       â”œâ”€â”€ workflows.py
â”‚   â”‚       â”œâ”€â”€ agents.py
â”‚   â”‚       â””â”€â”€ executions.py
â”‚   â”œâ”€â”€ agents/                 # Agentå®ç°
â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â”œâ”€â”€ web_search.py
â”‚   â”‚   â”œâ”€â”€ text_writing.py
â”‚   â”‚   â”œâ”€â”€ data_analysis.py
â”‚   â”‚   â”œâ”€â”€ email_sender.py
â”‚   â”‚   â””â”€â”€ file_processor.py
â”‚   â”œâ”€â”€ workflow/               # å·¥ä½œæµå¼•æ“
â”‚   â”‚   â”œâ”€â”€ dag.py
â”‚   â”‚   â”œâ”€â”€ engine.py
â”‚   â”‚   â””â”€â”€ executor.py
â”‚   â”œâ”€â”€ tasks/                  # Celeryä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ workflow_tasks.py
â”‚   â”‚   â””â”€â”€ agent_tasks.py
â”‚   â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ logger.py
â”‚       â””â”€â”€ validators.py
â”œâ”€â”€ examples/                   # ç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ simple_workflow.py
â”‚   â””â”€â”€ test_agents.py
â”œâ”€â”€ scripts/                    # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ start.sh
â”‚   â”œâ”€â”€ stop.sh
â”‚   â”œâ”€â”€ dev.sh
â”‚   â””â”€â”€ init.sql
â”œâ”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ logs/                       # æ—¥å¿—ç›®å½•
â”œâ”€â”€ docker-compose.yml          # Dockerç¼–æ’
â”œâ”€â”€ Dockerfile                  # Dockeré•œåƒ
â”œâ”€â”€ pyproject.toml              # Pythoné¡¹ç›®é…ç½®
â”œâ”€â”€ .env                        # ç¯å¢ƒå˜é‡
â””â”€â”€ README.md                   # é¡¹ç›®æ–‡æ¡£
```

## **æ ¸å¿ƒåŠŸèƒ½**

### **1. Agentç³»ç»Ÿ**
- **WebSearchAgent**: ç½‘ç»œæœç´¢åŠŸèƒ½
- **TextWritingAgent**: åŸºäºDeepSeekçš„æ–‡æœ¬ç”Ÿæˆ
- **DataAnalysisAgent**: æ•°æ®åˆ†æå’Œç»Ÿè®¡
- **EmailSenderAgent**: é‚®ä»¶å‘é€åŠŸèƒ½
- **FileProcessorAgent**: æ–‡ä»¶å¤„ç†å’Œæ ¼å¼è½¬æ¢

### **2. å·¥ä½œæµå¼•æ“**
- **DAGæ„å»º**: æ”¯æŒå¤æ‚çš„æœ‰å‘æ— ç¯å›¾å·¥ä½œæµ
- **å¹¶è¡Œæ‰§è¡Œ**: è‡ªåŠ¨è¯†åˆ«å¯å¹¶è¡Œæ‰§è¡Œçš„ä»»åŠ¡
- **é”™è¯¯å¤„ç†**: æ”¯æŒé‡è¯•å’Œå®¹é”™æœºåˆ¶
- **çŠ¶æ€ç®¡ç†**: å®æ—¶è·Ÿè¸ªæ‰§è¡ŒçŠ¶æ€
- **ä¸Šä¸‹æ–‡ä¼ é€’**: èŠ‚ç‚¹é—´æ•°æ®æµç®¡ç†

### **3. APIæ¥å£**
- **å·¥ä½œæµç®¡ç†**: åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤å·¥ä½œæµ
- **æ‰§è¡Œæ§åˆ¶**: å¯åŠ¨ã€å–æ¶ˆã€ç›‘æ§æ‰§è¡Œ
- **Agentç®¡ç†**: æŸ¥çœ‹ã€æµ‹è¯•ã€é…ç½®Agent
- **æ‰§è¡Œå†å²**: æŸ¥çœ‹æ‰§è¡Œè®°å½•å’Œæ—¥å¿—

## **ä½¿ç”¨ç¤ºä¾‹**

### **åˆ›å»ºç®€å•å·¥ä½œæµ**

```python
from evoflow.workflow.dag import DAGNode, WorkflowDAG

# åˆ›å»ºèŠ‚ç‚¹
nodes = [
    DAGNode(
        id="search",
        name="æœç´¢ä¿¡æ¯",
        agent_type="web_search",
        input_data={"query": "AIæœ€æ–°å‘å±•", "max_results": 5}
    ),
    DAGNode(
        id="analyze",
        name="åˆ†æç»“æœ",
        agent_type="text_writing",
        input_data={
            "prompt": "åˆ†ææœç´¢ç»“æœ: ${dependency_search}",
            "max_tokens": 1000
        },
        dependencies=["search"]
    )
]

# åˆ›å»ºå¹¶æ‰§è¡Œå·¥ä½œæµ
dag = WorkflowDAG(nodes)
engine = WorkflowEngine()
execution_id = await engine.execute_workflow("workflow_001", dag.to_dict())
```

### **æµ‹è¯•AgentåŠŸèƒ½**

```python
from evoflow.agents import TextWritingAgent

agent = TextWritingAgent()
result = await agent.run({
    "prompt": "å†™ä¸€ç¯‡å…³äºAIçš„æ–‡ç« ",
    "max_tokens": 500
}, {})

print(f"ç”Ÿæˆç»“æœ: {result.data['generated_text']}")
```

## **APIä½¿ç”¨**

### **åˆ›å»ºå·¥ä½œæµ**
```bash
curl -X POST "http://localhost:8000/api/v1/workflows/" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ç¤ºä¾‹å·¥ä½œæµ",
    "description": "è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹å·¥ä½œæµ",
    "dag_definition": {
      "nodes": [...]
    }
  }'
```

### **æ‰§è¡Œå·¥ä½œæµ**
```bash
curl -X POST "http://localhost:8000/api/v1/workflows/{workflow_id}/execute" \
  -H "Content-Type: application/json" \
  -d '{
    "input_data": {"key": "value"}
  }'
```

### **æŸ¥çœ‹æ‰§è¡ŒçŠ¶æ€**
```bash
curl "http://localhost:8000/api/v1/executions/{execution_id}"
```

## **å¼€å‘æŒ‡å—**

### **æ·»åŠ æ–°çš„Agent**

1. ç»§æ‰¿BaseAgentç±»
2. å®ç°å¿…éœ€çš„æ–¹æ³•
3. åœ¨TaskExecutorä¸­æ³¨å†Œ
4. æ·»åŠ ç›¸åº”çš„æµ‹è¯•

```python
class CustomAgent(BaseAgent):
    def __init__(self, config=None):
        super().__init__("CustomAgent", "custom", ["capability1"], config)

    async def execute(self, input_data, context):
        # å®ç°å…·ä½“é€»è¾‘
        pass

    def validate_input(self, input_data):
        # éªŒè¯è¾“å…¥
        pass

    def get_cost_estimate(self, input_data):
        # æˆæœ¬ä¼°ç®—
        pass
```

### **è¿è¡Œæµ‹è¯•**
```bash
# å®‰è£…æµ‹è¯•ä¾èµ–
uv pip install -e ".[dev]"

# è¿è¡Œæµ‹è¯•
pytest tests/

# è¿è¡Œç¤ºä¾‹
python examples/test_agents.py
python examples/simple_workflow.py
```

## **éƒ¨ç½²**

### **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**
1. ä¿®æ”¹ç¯å¢ƒå˜é‡é…ç½®
2. ä½¿ç”¨ç”Ÿäº§çº§æ•°æ®åº“
3. é…ç½®è´Ÿè½½å‡è¡¡
4. è®¾ç½®ç›‘æ§å’Œæ—¥å¿—

### **Dockeréƒ¨ç½²**
```bash
# æ„å»ºé•œåƒ
docker build -t evoflow:latest .

# è¿è¡Œå®¹å™¨
docker-compose -f docker-compose.prod.yml up -d
```

## **è´¡çŒ®æŒ‡å—**

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»ºPull Request

## **è®¸å¯è¯**

MIT License

## **é¡¹ç›®çŠ¶æ€**

### **âœ… å·²å®ŒæˆåŠŸèƒ½ (MVP Phase 1)**

**æ ¸å¿ƒæ¶æ„**
- [x] FastAPIåç«¯æ¡†æ¶æ­å»º
- [x] PostgreSQLæ•°æ®åº“è®¾è®¡å’Œæ¨¡å‹
- [x] Redisç¼“å­˜å’Œä»»åŠ¡é˜Ÿåˆ—
- [x] Docker + uvå¼€å‘ç¯å¢ƒ
- [x] Alembicæ•°æ®åº“è¿ç§»

**Agentç³»ç»Ÿ**
- [x] BaseAgentæŠ½è±¡åŸºç±»
- [x] WebSearchAgent - ç½‘ç»œæœç´¢
- [x] TextWritingAgent - DeepSeekæ–‡æœ¬ç”Ÿæˆ
- [x] DataAnalysisAgent - æ•°æ®åˆ†æ
- [x] EmailSenderAgent - é‚®ä»¶å‘é€
- [x] FileProcessorAgent - æ–‡ä»¶å¤„ç†

**å·¥ä½œæµå¼•æ“**
- [x] DAGæœ‰å‘æ— ç¯å›¾æ„å»º
- [x] å·¥ä½œæµæ‰§è¡Œå¼•æ“
- [x] ä»»åŠ¡è°ƒåº¦å’ŒçŠ¶æ€ç®¡ç†
- [x] é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- [x] ä¸Šä¸‹æ–‡æ•°æ®ä¼ é€’

**APIæ¥å£**
- [x] RESTful APIè®¾è®¡
- [x] å·¥ä½œæµCRUDæ“ä½œ
- [x] Agentç®¡ç†å’Œæµ‹è¯•
- [x] æ‰§è¡Œç›‘æ§å’Œæ—¥å¿—
- [x] è‡ªåŠ¨APIæ–‡æ¡£ç”Ÿæˆ

**å¼€å‘å·¥å…·**
- [x] é¡¹ç›®è®¾ç½®æ£€æŸ¥è„šæœ¬
- [x] APIæµ‹è¯•è„šæœ¬
- [x] æ€§èƒ½ç›‘æ§è„šæœ¬
- [x] æ•°æ®åˆå§‹åŒ–è„šæœ¬

**éƒ¨ç½²æ”¯æŒ**
- [x] Docker Composeå¼€å‘ç¯å¢ƒ
- [x] ç”Ÿäº§ç¯å¢ƒDockeré…ç½®
- [x] Nginxåå‘ä»£ç†é…ç½®
- [x] è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

### **ğŸš§ ä¸‹ä¸€æ­¥è®¡åˆ’ (Phase 2)**

**æ™ºèƒ½å·¥ä½œæµç”Ÿæˆ**
- [ ] è‡ªç„¶è¯­è¨€ä»»åŠ¡åˆ†è§£
- [ ] Planner Agentå®ç°
- [ ] Agentæ™ºèƒ½åŒ¹é…ç®—æ³•
- [ ] å·¥ä½œæµæ¨¡æ¿åº“

**å‰ç«¯ç•Œé¢**
- [ ] Next.jså‰ç«¯é¡¹ç›®åˆå§‹åŒ–
- [ ] å·¥ä½œæµå¯è§†åŒ–ç¼–è¾‘å™¨
- [ ] å®æ—¶æ‰§è¡Œç›‘æ§ç•Œé¢
- [ ] Agentç®¡ç†ç•Œé¢

**ç”¨æˆ·ç³»ç»Ÿ**
- [ ] ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- [ ] JWT Tokenç®¡ç†
- [ ] ç”¨æˆ·æƒé™æ§åˆ¶
- [ ] å¤šç§Ÿæˆ·æ”¯æŒ

**é«˜çº§åŠŸèƒ½**
- [ ] å·¥ä½œæµç‰ˆæœ¬æ§åˆ¶
- [ ] æ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯
- [ ] äººæœºåä½œèŠ‚ç‚¹
- [ ] å·¥ä½œæµè°ƒè¯•æ¨¡å¼

### **ğŸ”® æœªæ¥è§„åˆ’ (Phase 3+)**

**ä¼˜åŒ–ä¸å­¦ä¹ **
- [ ] æ‰§è¡Œæ€§èƒ½åˆ†æ
- [ ] ç”¨æˆ·åé¦ˆæ”¶é›†
- [ ] å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–
- [ ] æˆæœ¬æ™ºèƒ½æ§åˆ¶

**ç”Ÿæ€å»ºè®¾**
- [ ] Agentæ’ä»¶å¸‚åœº
- [ ] ç¤¾åŒºè´¡çŒ®ç³»ç»Ÿ
- [ ] å·¥ä½œæµåˆ†äº«å¹³å°
- [ ] ç¬¬ä¸‰æ–¹é›†æˆ

**ä¼ä¸šåŠŸèƒ½**
- [ ] é«˜çº§ç›‘æ§å’Œå‘Šè­¦
- [ ] æ•°æ®å®‰å…¨å’Œåˆè§„
- [ ] ä¼ä¸šçº§éƒ¨ç½²æ–¹æ¡ˆ
- [ ] ä¸“ä¸šæŠ€æœ¯æ”¯æŒ

## **å¿«é€ŸéªŒè¯**

### **1. ç¯å¢ƒæ£€æŸ¥**
```bash
# æ£€æŸ¥é¡¹ç›®è®¾ç½®
python scripts/check_setup.py

# æˆ–è€…ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x scripts/check_setup.py
./scripts/check_setup.py
```

### **2. å¯åŠ¨æœåŠ¡**
```bash
# å¼€å‘ç¯å¢ƒå¯åŠ¨
chmod +x scripts/start.sh
./scripts/start.sh

# æˆ–è€…æ‰‹åŠ¨å¯åŠ¨
docker-compose up -d
```

### **3. APIæµ‹è¯•**
```bash
# è¿è¡ŒAPIæµ‹è¯•
python scripts/test_api.py

# æˆ–è€…æ‰‹åŠ¨æµ‹è¯•
curl http://localhost:8000/health
curl http://localhost:8000/docs
```

### **4. æ€§èƒ½ç›‘æ§**
```bash
# è¿è¡Œç›‘æ§è„šæœ¬
python scripts/monitor.py

# æŒç»­ç›‘æ§
python scripts/monitor.py --interval 30
```

## **æ•…éšœæ’é™¤**

### **å¸¸è§é—®é¢˜**

**1. DockeræœåŠ¡å¯åŠ¨å¤±è´¥**
```bash
# æ£€æŸ¥DockerçŠ¶æ€
docker info

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs

# é‡å¯æœåŠ¡
docker-compose restart
```

**2. æ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
docker-compose exec postgres pg_isready -U evoflow

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker-compose logs postgres
```

**3. APIå“åº”æ…¢æˆ–è¶…æ—¶**
```bash
# æ£€æŸ¥ç³»ç»Ÿèµ„æº
python scripts/monitor.py --once

# æŸ¥çœ‹APIæ—¥å¿—
docker-compose logs backend
```

**4. Agentæ‰§è¡Œå¤±è´¥**
- æ£€æŸ¥DeepSeek APIå¯†é’¥æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
- æŸ¥çœ‹å…·ä½“é”™è¯¯ä¿¡æ¯

### **æ—¥å¿—æŸ¥çœ‹**
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f backend
docker-compose logs -f celery_worker

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—æ–‡ä»¶
tail -f logs/evoflow.log
```

## **è´¡çŒ®æŒ‡å—**

### **å¼€å‘æµç¨‹**
1. Forké¡¹ç›®åˆ°ä¸ªäººä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹: `git commit -am 'Add new feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-feature`
5. åˆ›å»ºPull Request

### **ä»£ç è§„èŒƒ**
- ä½¿ç”¨Blackè¿›è¡Œä»£ç æ ¼å¼åŒ–
- éµå¾ªPEP 8ç¼–ç è§„èŒƒ
- æ·»åŠ ç±»å‹æ³¨è§£
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°æ–‡æ¡£

### **æµ‹è¯•è¦æ±‚**
```bash
# è¿è¡Œæµ‹è¯•
pytest tests/

# ä»£ç æ ¼å¼æ£€æŸ¥
black --check evoflow/
isort --check-only evoflow/

# ç±»å‹æ£€æŸ¥
mypy evoflow/
```

## **è®¸å¯è¯**

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## **è‡´è°¢**

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæŠ€æœ¯ï¼š
- FastAPI - ç°ä»£é«˜æ€§èƒ½Webæ¡†æ¶
- SQLAlchemy - Python SQLå·¥å…·åŒ…
- Celery - åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—
- Redis - å†…å­˜æ•°æ®ç»“æ„å­˜å‚¨
- PostgreSQL - å¼€æºå…³ç³»å‹æ•°æ®åº“
- Docker - å®¹å™¨åŒ–å¹³å°
- DeepSeek - å¤§è¯­è¨€æ¨¡å‹API

## **è”ç³»æ–¹å¼**

- é¡¹ç›®åœ°å€: [GitHub Repository]
- é—®é¢˜åé¦ˆ: [Issues]
- é‚®ç®±: team@evoflow.ai
- æ–‡æ¡£: [Documentation]

---

**EvoFlow** - è®©AIå·¥ä½œæµè‡ªåŠ¨åŒ–å˜å¾—ç®€å•è€Œå¼ºå¤§ ğŸš€
